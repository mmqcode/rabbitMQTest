<!DOCTYPE html>
<html>
    <head>
        <meta  chartset="utf-8">
        <script src="${request.contextPath}/staticResources/js/jquery-1.8.3.js"></script>

        <script type="text/javascript">
            $(document).ready(function () {
                $("button[name='button']").click(function () {
                    $.ajax({
                        url:"doSendMessage",
                        type:"post",
                        data:{
                            "message":$("input[name='message']").val(),
                            "key":$("input[name='key']").val()
                        },
                        dataType:"json",
                        error:function () {
                            
                        },
                        success:function (data) {
                            alert(data.msg);

                        }
                    });
                });

                $("button[name='button1']").click(function(){
                    $.ajax({
                        url:"sendPojoMessage",
                        type:"post",
                        data:{
                            "key":$("input[name='key1']").val()
                        },
                        dataType:"json",
                        error:function () {

                        },
                        success:function (data) {
                            alert(data.msg);

                        }
                    });
                });

                $("button[name='button2']").click(function () {
                    $.ajax({
                        url:"sendMessageTofanout",
                        type:"post",
                        data:{
                            "message":$("input[name='message2']").val()
                        },
                        dataType:"json",
                        error:function () {

                        },
                        success:function (data) {
                            alert(data.msg);

                        }
                    });
                });

                $("button[name='button3']").click(function () {
                    $.ajax({
                        url:"sendMessageToTopic",
                        type:"post",
                        data:{
                            "message":$("input[name='message3']").val(),
                            "pattern":$("input[name='pattern']").val()
                        },
                        dataType:"json",
                        error:function () {

                        },
                        success:function (data) {
                            alert(data.msg);

                        }

                    });

                });

                $("button[name='buttonTextMessage']").click(function () {
                    $.ajax({
                        url:"doSendTextMessage",
                        type:"post",
                        data:{
                            "content":$("input[name='message']").val(),
                            "key":$("input[name='key']").val()
                        },
                        dataType:"json",
                        error:function () {

                        },
                        success:function (data) {
                            alert(data.msg);
                        }

                    });
                });


            });

        </script>

    </head>

<body>
    <div>
        <h3>direct Exchange</h3>
        <div>
            <span>发送消息:</span>
            <input type="text" name="message" value="">
        </div>
        <div>
            <span>队列key</span>
            <input type="text" name="key" value="">
        </div>

        <div>
            <button name="button">发送String对象消息</button>
        </div>
        <div>
            <button name="buttonTextMessage">发送TextMessage对象消息</button>
        </div>
        <br/>
        <div>
            <span>队列key</span>
            <input type="text" name="key1" value="">
            <button name="button1">发送POJO消息</button>
        </div>
    </div>

    <div>
        <h3>fanout Exchange</h3>
        <div>
            <span>发送消息:</span>
            <input type="text" name="message2" value="">
        </div>
        <div>
            <button name="button2">发送</button>
        </div>

    </div>

    <div>
        <h3>topic Exchange</h3>
        <div>
            <span>发送消息:</span>
            <input type="text" name="message3" value="">
        </div>
        <div>
            <span>pattern:</span>
            <input type="text" name="pattern" value="">
        </div>
        <div>
            <button name="button3">发送</button>
        </div>

    </div>
</body>
</html>