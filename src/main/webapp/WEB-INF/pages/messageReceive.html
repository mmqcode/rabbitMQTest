<!DOCTYPE html>
<html>
<head>
    <meta  chartset="utf-8">
    <script src="${request.contextPath}/staticResources/js/jquery-1.8.3.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            $("button[name='recieveMessage']").click(function () {
                $.ajax({
                    url:"recieveMessage",
                    type:"post",
                    data:{
                        "queueName":$("input[name='queueName']").val(),
                        "time":new Date()
                    },
                    dataType:"json",
                    error:function () {

                    },
                    success:function (data) {
                        if(data.code == "0"){
                            var message = "<p>"+data.msg+"</p>";

                            $("div[name='message1']").append(message);
                        }else{
                            alert(data.msg);
                        }

                    }
                });
            });

            $("button[name='recievePojoMessage']").click(function () {
                $.ajax({
                    url:"recievePojoMessage",
                    type:"post",
                    data:{
                        "queueName":$("input[name='queueName']").val(),
                        "time":new Date()
                    },
                    dataType:"json",
                    error:function () {

                    },
                    success:function (data) {
                        if(data.code == "0"){
                            var message = "<p>name:"+data.user.name+",account:"+data.user.account+"</p>";
                            $("div[name='message1']").append(message);
                        }else{
                            alert(data.msg);
                        }

                    }
                });
            });

        });

    </script>

</head>
<body>

    <div style="border: 1px solid; height: 400px; overflow-y: auto;">
        <div>
            队列Name:<input name="queueName" value="">
            <button name="recieveMessage" >同步接收String一次</button>
            <button name="recievePojoMessage" >同步接收POJO一次</button>
        </div>
        <div name="message1">


        </div>
    </div>

</body>
</html>